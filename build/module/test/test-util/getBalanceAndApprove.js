import { CurrencyAmount } from '@uniswap/sdk-core';
import { constants } from 'ethers';
import { Erc20__factory } from '../../src/types/other/factories/Erc20__factory';
export const getBalance = async (alice, currency) => {
    if (!currency.isToken) {
        return CurrencyAmount.fromRawAmount(currency, (await alice.getBalance()).toString());
    }
    const aliceTokenIn = Erc20__factory.connect(currency.address, alice);
    return CurrencyAmount.fromRawAmount(currency, (await aliceTokenIn.balanceOf(alice._address)).toString());
};
export const getBalanceAndApprove = async (alice, approveTarget, currency) => {
    if (currency.isToken) {
        const aliceTokenIn = Erc20__factory.connect(currency.address, alice);
        if (currency.symbol == 'USDT') {
            await (await aliceTokenIn.approve(approveTarget, 0)).wait();
        }
        await (await aliceTokenIn.approve(approveTarget, constants.MaxUint256)).wait();
    }
    return getBalance(alice, currency);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0QmFsYW5jZUFuZEFwcHJvdmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi90ZXN0L3Rlc3QtdXRpbC9nZXRCYWxhbmNlQW5kQXBwcm92ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQVksY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUVuQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFFaEYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLEtBQUssRUFDN0IsS0FBb0IsRUFDcEIsUUFBa0IsRUFDaUIsRUFBRTtJQUNyQyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtRQUNyQixPQUFPLGNBQWMsQ0FBQyxhQUFhLENBQ2pDLFFBQVEsRUFDUixDQUFDLE1BQU0sS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQ3RDLENBQUM7S0FDSDtJQUVELE1BQU0sWUFBWSxHQUFVLGNBQWMsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUU1RSxPQUFPLGNBQWMsQ0FBQyxhQUFhLENBQ2pDLFFBQVEsRUFDUixDQUFDLE1BQU0sWUFBWSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FDMUQsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixHQUFHLEtBQUssRUFDdkMsS0FBb0IsRUFDcEIsYUFBcUIsRUFDckIsUUFBa0IsRUFDaUIsRUFBRTtJQUNyQyxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUU7UUFDcEIsTUFBTSxZQUFZLEdBQVUsY0FBYyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRTVFLElBQUksUUFBUSxDQUFDLE1BQU0sSUFBSSxNQUFNLEVBQUU7WUFDN0IsTUFBTSxDQUFDLE1BQU0sWUFBWSxDQUFDLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztTQUM3RDtRQUNELE1BQU0sQ0FDSixNQUFNLFlBQVksQ0FBQyxPQUFPLENBQUMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FDaEUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztLQUNWO0lBRUQsT0FBTyxVQUFVLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3JDLENBQUMsQ0FBQyJ9