import { BigNumber } from '@ethersproject/bignumber';
import { ArbitrumGasDataProvider } from '../../../../src/providers/v3/gas-data-provider';
import { BaseProvider } from '@ethersproject/providers';
import sinon from 'sinon';
class MockProvider extends BaseProvider {
    constructor() {
        super(...arguments);
        this._isProvider = true;
    }
}
describe('arbitrum gas data provider', () => {
    let mockProvider;
    let arbGasDataProvider;
    beforeAll(() => {
        mockProvider = sinon.createStubInstance(MockProvider);
        mockProvider._isProvider = true;
        mockProvider.call.resolves("0x00000000000000000000000000000000000000000000000000003eb61132144000000000000000000000000000000000000000000000000000000072ac022fb0000000000000000000000000000000000000000000000000000001d1a94a20000000000000000000000000000000000000000000000000000000000005f5e10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000005f5e100");
        arbGasDataProvider = new ArbitrumGasDataProvider(42161, mockProvider);
    });
    test('get correct gas data', async () => {
        await expect(arbGasDataProvider.getGasData()).resolves.toMatchObject({
            perArbGasTotal: BigNumber.from('0x05f5e100'),
            perL1CalldataFee: BigNumber.from('0x072ac022fb'),
            perL2TxFee: BigNumber.from('0x3eb611321440'),
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FzLWRhdGEtcHJvdmlkZXIudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Rlc3QvdW5pdC9wcm92aWRlcnMvdjMvZ2FzLWRhdGEtcHJvdmlkZXIudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDckQsT0FBTyxFQUFFLHVCQUF1QixFQUFFLE1BQU0sZ0RBQWdELENBQUM7QUFDekYsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3hELE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUUxQixNQUFNLFlBQWEsU0FBUSxZQUFZO0lBQXZDOztRQUNFLGdCQUFXLEdBQVksSUFBSSxDQUFBO0lBQzdCLENBQUM7Q0FBQTtBQUVELFFBQVEsQ0FBQyw0QkFBNEIsRUFBRSxHQUFHLEVBQUU7SUFFMUMsSUFBSSxZQUFzRCxDQUFDO0lBQzNELElBQUksa0JBQTJDLENBQUM7SUFFaEQsU0FBUyxDQUFDLEdBQUcsRUFBRTtRQUNiLFlBQVksR0FBRyxLQUFLLENBQUMsa0JBQWtCLENBQUMsWUFBWSxDQUFDLENBQUE7UUFDckQsWUFBWSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUE7UUFDL0IsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsb1lBQW9ZLENBQUMsQ0FBQztRQUNqYSxrQkFBa0IsR0FBRyxJQUFJLHVCQUF1QixDQUFDLEtBQUssRUFBRSxZQUFZLENBQUMsQ0FBQTtJQUN2RSxDQUFDLENBQUMsQ0FBQztJQUVILElBQUksQ0FBQyxzQkFBc0IsRUFBRSxLQUFLLElBQUksRUFBRTtRQUN0QyxNQUFNLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUM7WUFDbkUsY0FBYyxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1lBQzVDLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDO1lBQ2hELFVBQVUsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1NBQzdDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMifQ==